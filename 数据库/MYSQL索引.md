# MYSQL 索引

我们常用的索引数据结构有二叉数、B树等，MYSQL索引使用的 B+ 树。它的**所有数据都存储在最底层的叶子结点上并且由小到大排序**（非常方便范围查找），上层用来存储索引，每一块索引 16KB 大小，第一层和第二层可以存放  16*1024/14=1170 个数，第三层预估 16 个数，总共可以放 1170x1170x16=21.9m数据。同时 MYSQL 在初始化时会把一部分索引读入内存，加快效率。

B+主健索引：

![](D:\1-Learning\MD-NOTE\数据库\img\b+.jpg)



聚集索引：叶子结点包含完整的数据记录。（InnoDB 存储引擎--现在 MYSQL 使用的）

非聚集索引：数据和索引分开存放，用地址指向数据地址（MYISAM 存储引擎）



非主键索引

![非主键索引](D:\1-Learning\MD-NOTE\数据库\img\非主键索引.jpg)

B树与B+树区别：

1. B树底层叶子没有维护指向下一个叶子的指针，不能很好支持范围查找
2. B+树的非叶子节点不存储数据，只存储冗余索引，可以放更多索引。叶子节点包含所有索引字段

## 哈希结构索引

有些时候也会使用哈希结构索引：对值进行 hash 计算来定位位置，如果两个值的 hash 值相同，会放到链表后面。

但由于 HASH索引不支持范围查找(找比 jim 大的元素)，所以不怎么用。

![HASH](D:\1-Learning\MD-NOTE\数据库\img\HASH.jpg)

